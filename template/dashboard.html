<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/dashboard.css') }}"> 
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/logo_PTD.jpg') }}">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div class="container">
        <img src="{{ url_for('static', filename=image_filename) }}" alt="Image PTD"  class="img-custom">
        <div class="row">
            <div class="col-md-6">
                <div id="graph_success"></div>
                <textarea id="graphDataSuccess" style="display: none;">{{ graph_json_success | safe }}</textarea>
                <script>
                    var graphJsonSuccess = document.getElementById('graphDataSuccess').value;
                    Plotly.newPlot('graph_success', JSON.parse(graphJsonSuccess));
                </script>
            </div>
            <div class="col-md-6"> 
                <div id="graph_participants"></div>
                <textarea id="graphDataParticipants" style="display: none;">{{ graph_json_participants | safe }}</textarea>
                <script>
                    var graphJsonParticipants = document.getElementById('graphDataParticipants').value;
                    Plotly.newPlot('graph_participants', JSON.parse(graphJsonParticipants));
                </script>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6"> 
                <div id="graph_json_participants_month" class="graph-month-container"></div>
                <textarea id="graphDataParticipantsMonth" style="display: none;">{{ graph_json_participants_month | safe }}</textarea>
                <script>
                    var graph_json_participants_month = document.getElementById('graphDataParticipantsMonth').value;
                    Plotly.newPlot('graph_json_participants_month', JSON.parse(graph_json_participants_month));
                </script>
            </div>
            <div class="col-md-1"> 
                <div id="graph_top_participants" class="graph-top-container"></div>
                <textarea id="graphDataTopParticipants" style="display: none;">{{ graph_json_top_participants | safe }}</textarea>
                <script>
                    var graphJsonTopParticipants = document.getElementById('graphDataTopParticipants').value;
                    Plotly.newPlot('graph_top_participants', JSON.parse(graphJsonTopParticipants));
                </script>
            </div>
        </div>
    </div>
    <div class="centered">
        <a href="{{ url_for('accueil') }}" class="btn btn-primary mt-3">Retour Ã  l'accueil</a>
    </div>
</body>
</html>
